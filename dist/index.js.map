{"version":3,"file":"index.js","sources":["../src/text.tsx","../src/typo.tsx"],"sourcesContent":["import React, { Component } from 'react'\nimport Typo from './typo';\n\nconst defaultPace = 40;\nconst defaultPause = 0;\n\nconst spanStyle = {\n    display: 'inline-block'\n}\n\ninterface Props {\n    /** The pace between two chars in milliseconds. Default is 40 */\n    pace?: number;\n    /** The pace of white spaces to make the text more dynamic */\n    whiteSpacePace?: number;\n    /** The pause before starting the text in milliseconds. Default is 0 */\n    pause?: number;\n    /** Defines if the container css display rule is 'block' or 'inline-block'. Default is false */\n    block?: boolean;\n    /** Displays all the chars at once */\n    stamp?: boolean;\n    /** Prints the chars in the Text backwards */\n    rewind?: boolean;\n    /** The Typo controller. Is automatically defined when a Text is in a Typo */\n    parent?: Typo;\n    /** The className assigned to every printed char */\n    charClassName?: string;\n    /** The className of the Text container */\n    className?: string;\n    /**\n     * Called when the first char is printed\n     * @param text The current Text component\n     * */\n    onStart?: (text: Text) => void;\n    /** \n     * Called when a char is printed \n     * @param char The current printed char\n     * @param text The current Text component\n     * */\n    onChar?: (char: string, text: Text) => void;\n    /**\n     * Called when the last char is printed\n     * @param text The current Text component\n     * */\n    onStop?: (text: Text) => void;\n}\n\ninterface State {\n    display: JSX.Element[] | JSX.Element;\n}\n\nexport default class Text extends Component<Props, State> {\n\n    private initiated: boolean;\n    private stopped: boolean;\n\n    str: string;\n    interval: NodeJS.Timeout;\n    iteration: number;\n\n    constructor(props: Props) {\n        super(props);\n        this.init();\n    }\n    \n    componentDidMount() {\n        if (!this.props.parent) {\n            this.play();\n        }\n    }\n    \n    init() {\n        console.log('text init!')\n        this.str = (this.props.children as string || '').replaceAll(' ', '\\xa0');\n        this.iteration = !this.props.rewind ? 0 : this.str.length - 1;\n        this.stopped = false;\n    }\n\n    play() {\n        if (!this.stopped) {\n            let pace;\n            if (!this.initiated) {\n                this.onStart();\n                this.initiated = true;\n                pace = this.props.pause || this.props.parent?.props.pause || defaultPause;\n            } else if (this.str[this.iteration] != '\\xa0') {\n                pace = this.props.pace || this.props.parent?.props.pace || defaultPace;\n            } else {\n                pace = (this.props.whiteSpacePace || this.props.parent?.props.whiteSpacePace || defaultPace);\n            }\n\n            setTimeout(() => {\n\n                const stamp = this.props.stamp || this.props.parent?.props.stamp;\n                const rewind = this.props.rewind || this.props.parent?.props.rewind;\n            \n                if (!stamp) {\n                    const chars = this.str.substr(0, this.iteration + 1).split('');\n                    let display;\n                \n                    if (rewind) {\n                        display = chars.map((char, i) => {\n                            return <span style={spanStyle} key={i}>{char}</span>\n                        });\n                        display.pop();\n                        display.push(<span style={spanStyle} className={this.props.charClassName} key={Date.now()}>{chars.slice(-1)}</span>)\n                    } else {\n                        display = chars.map((char, i) => {\n                            return <span style={spanStyle} className={this.props.charClassName} key={i}>{char}</span>\n                        });\n                    }\n                    this.setState({ display }, () => {\n                    \n                        this.iteration += rewind ? -1 : 1;\n                        if (\n                            (rewind && this.iteration < -1) ||\n                            (!rewind && this.iteration > this.str.length)\n                        ) {\n                            this.stop();\n                        } else {\n                            this.onChar();\n                        }\n                    })\n                } else {\n                    this.setState({\n                        display: <span style={spanStyle} className={this.props.charClassName}>{this.str}</span>\n                    }, () => {\n                        this.iteration = rewind ? 0 : (this.props.children as string).length - 1;\n                        this.onChar();\n                        this.stop();\n                    })\n                }\n                this.play();\n            }, pace)\n        }\n    }\n\n    show() {\n        this.setState({\n            display: this.str.split('').map((char, i) => <span style={spanStyle} key={i}>{char}</span>)\n        })\n    }\n\n    stop() {\n        this.onStop();\n    }\n\n    onStart() {\n        this.props.onStart?.(this);\n    }\n\n    onChar() {\n        const rewind = this.props.parent?.props.rewind || this.props.rewind;\n        const char = rewind\n            ? this.str[this.iteration + 1]\n            : this.str[this.iteration - 1];\n\n        this.props.onChar?.(char, this);\n\n        this.props.parent?.props.onChar?.(char, this.props.parent);\n    }\n\n    onStop() {\n        this.stopped = true;\n        this.props.onStop?.(this);\n        this.props?.parent?.play();\n    }\n\n    render() {\n        return <div className={this.props.className} style={{\n            display: this.props.block ? 'block' : 'inline-block'\n        }}>{this.state?.display}</div>\n    }\n}\n","import React, { Component } from 'react'\nimport Text from './text';\n\ninterface Props {\n    /** Defines this typo as being the first to execute when this typo's name is in the 'next' prop of another typo */\n    first?: boolean;\n    /** Prints the chars in the Texts backwards */\n    rewind?: boolean;\n    /** Displays all the chars in the Texts at once */\n    stamp?: boolean;\n    /** The pause before starting the text in milliseconds. Default is 0 */\n    pause?: number;\n    /** The pace between two chars in milliseconds. Default is 40 */\n    pace?: number;\n    /** The pace of white spaces to make the text more dynamic */\n    whiteSpacePace?: number;\n    /** The name of the next Typo to render */\n    next?: string;\n    /** the name of the typo */\n    name?: string;\n\n    /**\n     * Called when the component is mounted\n     * @param typo The current Typo component\n     * */\n    onStart?: (typo: Typo) => void;\n    /**\n    * Called when the current Text component is mounted\n    * @param text The current Text component\n    * @param typo The current Typo component\n    * */\n    onText?: (text: Text, typo: Typo) => void;\n    /**\n     * Called when the last char in the last Text is printed\n     * @param typo The current Typo component\n     * */\n    onStop?: (typo: Typo) => void;\n    /**\n     * Called when a char is printed\n     * @param char The current printed char\n     * @param typo The current Typo component\n     * */\n    onChar?: (char: string, typo: Typo) => void;\n}\n\ninterface State {\n    display: JSX.Element[] | JSX.Element;\n}\n\nexport default class Typo extends Component<Props, State> {\n\n    static typos: Map<string, Typo> = new Map();\n    static first: Typo;\n\n    private initiated: boolean;\n    name: string;\n    texts: JSX.Element[];\n    textRefs: React.RefObject<Text>[] = [];\n    iteration: number;\n\n    constructor(props: Props) {\n        super(props);\n        this.init();\n    }\n\n    componentDidMount() {\n        //si le typo est dans le next d'un autre, on ne lance pas play sauf s'il est first\n        if (!Array.from(Typo.typos.values()).some(typo => typo.props.next == this.name) || Typo.first == this) {\n            this.play();\n        }\n    }\n\n    init() {\n        this.initiated = false;\n\n        \n        this.texts = React.Children.map(this.props.children as JSX.Element, child => {\n            let ref = React.createRef<Text>();\n            this.textRefs.push(ref);\n\n            return <Text {...child.props} ref={ref} parent={this} rewind={this.props.rewind}>{child.props.children || ''}</Text>\n        })\n        \n        this.iteration = !this.props.rewind ? 0 : this.texts.length == 1 ? 0 : this.texts.length - 1;\n\n        this.name = this.props.name || '_' + Math.random().toString(36).substr(2, 9);\n\n        Typo.typos.set(this.name, this);\n\n        if (typeof Typo.first == 'undefined') {\n            Typo.first = this;\n        }\n    }\n\n    play() {\n        if (!this.initiated) {\n            this.initiated = true;\n            this.onStart();\n        }\n\n        if (\n            (this.props.rewind && this.iteration < 0) || (!this.props.rewind && this.iteration > this.texts.length - 1)) {\n            this.stop();\n        } else {\n            if (this.props.rewind) {\n                for (let i = this.iteration; i >= 0; i--) {\n                    this.textRefs[i].current?.show();\n                }\n            }\n                \n            this.textRefs[this.iteration]?.current?.play();\n            \n            this.iteration += this.props.rewind ? -1 : 1;\n            this.onText();\n        }\n    }\n\n    stop() {\n        this.onStop();\n    }\n\n    onStart() {\n        this.props.onStart?.(this);\n    }\n\n    onText() {\n        const text = this.props.rewind\n            ? this.textRefs[this.iteration + 1]?.current\n            : this.textRefs[this.iteration - 1]?.current;\n\n        if (text) {\n            this.props.onText?.(text, this);\n        }\n    }\n\n    //on lance le event handler onStop et on lance le play du prochain Typo\n    onStop() {\n        this.props.onStop?.(this);\n        if (this.props.next) {\n            Typo.typos.get(this.props.next)?.textRefs.forEach(ref => ref.current?.init());\n            Typo.typos.get(this.props.next)?.init();\n            Typo.typos.get(this.props.next)?.play();\n        }\n    }\n\n    render() {\n        return <div style={{ display: 'inline-block' }}>{this.texts}</div>\n    }\n}\n"],"names":["defaultPace","defaultPause","spanStyle","display","Text","props","init","componentDidMount","parent","play","console","log","str","children","replaceAll","iteration","rewind","length","stopped","pace","initiated","onStart","pause","whiteSpacePace","setTimeout","stamp","chars","substr","split","map","char","i","React","style","key","pop","push","className","charClassName","Date","now","slice","setState","stop","onChar","show","onStop","render","block","state","Component","Typo","Array","from","typos","values","some","typo","next","name","first","texts","Children","child","ref","createRef","textRefs","Math","random","toString","set","current","onText","text","get","forEach","Map"],"mappings":"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"}