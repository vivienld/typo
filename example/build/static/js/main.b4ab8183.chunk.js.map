{"version":3,"sources":["../../src/text.tsx","../../src/typo.tsx","App.tsx","index.tsx"],"names":["spanStyle","display","Text","constructor","props","componentDidMount","this","reset","play","str","pace","setTimeout","stamp","rewind","style","className","charClassName","chars","key","i","Date","show","split","map","stop","onStart","onChar","char","iteration","onStop","render","block","Component","Typo","textRefs","child","ref","React","console","parent","texts","length","onText","text","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.b4ab8183.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport Typo from './typo';\n\nconst defaultPace = 40;\nconst defaultPause = 0;\n\nconst spanStyle = {\n    display: 'inline-block'\n}\n\ninterface Props {\n    /** The pace between two chars in milliseconds. Default is 40 */\n    pace?: number;\n    /** The pace of white spaces to make the text more dynamic */\n    whiteSpacePace?: number;\n    /** The pause before starting the text in milliseconds. Default is 0 */\n    pause?: number;\n    /** Defines if the container css display rule is 'block' or 'inline-block'. Default is false */\n    block?: boolean;\n    /** Displays all the chars at once */\n    stamp?: boolean;\n    /** Prints the chars in the Text backwards */\n    rewind?: boolean;\n    /** The Typo controller. Is automatically defined when a Text is in a Typo */\n    parent?: Typo;\n    /** The className assigned to every printed char */\n    charClassName?: string;\n    /** The className of the Text container */\n    className?: string;\n    /**\n     * Called when the first char is printed\n     * @param text The current Text component\n     * */\n    onStart?: (text: Text) => void;\n    /** \n     * Called when a char is printed \n     * @param char The current printed char\n     * @param text The current Text component\n     * */\n    onChar?: (char: string, text: Text) => void;\n    /**\n     * Called when the last char is printed\n     * @param text The current Text component\n     * */\n    onStop?: (text: Text) => void;\n}\n\ninterface State {\n    display: JSX.Element[] | JSX.Element;\n}\n\nexport default class Text extends Component<Props, State> {\n\n    private initiated: boolean;\n    private stopped: boolean;\n\n    str: string;\n    interval: NodeJS.Timeout;\n    iteration: number;\n\n    constructor(props: Props) {\n        super(props);\n        this.str = (this.props.children as string || '').replaceAll(' ', '\\xa0');\n        this.iteration = !this.props.rewind ? 0 : this.str.length - 1;\n    }\n\n    componentDidMount() {\n        if (!this.props.parent) {\n            this.play();\n        }\n    }\n\n    reset() {\n        this.stopped = false;\n    }\n\n    play() {\n        if (!this.stopped) {\n            let pace;\n            if (!this.initiated) {\n                this.onStart();\n                this.initiated = true;\n                pace = this.props.parent?.props.pause || this.props.pause || defaultPause;\n            } else if (this.str[this.iteration] != '\\xa0') {\n                pace = this.props.parent?.props.pace || this.props.pace || defaultPace;\n            } else {\n                pace = (this.props.parent?.props.whiteSpacePace || this.props.whiteSpacePace || defaultPace);\n            }\n\n            setTimeout(() => {\n\n                const stamp = this.props.parent?.props.stamp || this.props.stamp;\n                const rewind = this.props.parent?.props.rewind || this.props.rewind;\n            \n                if (!stamp) {\n                    const chars = this.str.substr(0, this.iteration + 1).split('');\n                    let display;\n                \n                    if (rewind) {\n                        display = chars.map((char, i) => {\n                            return <span style={spanStyle} key={i}>{char}</span>\n                        });\n                        display.pop();\n                        display.push(<span style={spanStyle} className={this.props.charClassName} key={Date.now()}>{chars.slice(-1)}</span>)\n                    } else {\n                        display = chars.map((char, i) => {\n                            return <span style={spanStyle} className={this.props.charClassName} key={i}>{char}</span>\n                        });\n                    }\n                    this.setState({ display }, () => {\n                    \n                        this.iteration += rewind ? -1 : 1;\n                        if (\n                            (rewind && this.iteration < -1) ||\n                            (!rewind && this.iteration > this.str.length)\n                        ) {\n                            this.stop();\n                        } else {\n                            this.onChar();\n                        }\n                    })\n                } else {\n                    this.setState({\n                        display: <span style={spanStyle} className={this.props.charClassName}>{this.str}</span>\n                    }, () => {\n                        this.iteration = rewind ? 0 : (this.props.children as string).length - 1;\n                        this.onChar();\n                        this.stop();\n                    })\n                }\n                this.play();\n            }, pace)\n        }\n    }\n\n    show() {\n        this.setState({\n            display: this.str.split('').map((char, i) => <span style={spanStyle} key={i}>{char}</span>)\n        })\n    }\n\n    stop() {\n        this.onStop();\n    }\n\n    onStart() {\n        this.props.onStart?.(this);\n    }\n\n    onChar() {\n        const rewind = this.props.parent?.props.rewind || this.props.rewind;\n        const char = rewind\n            ? this.str[this.iteration + 1]\n            : this.str[this.iteration - 1];\n\n        this.props.onChar?.(char, this);\n\n        this.props.parent?.props.onChar?.(char, this.props.parent);\n    }\n\n    onStop() {\n        this.stopped = true;\n        this.props.onStop?.(this);\n        this.props?.parent?.play();\n    }\n\n    render() {\n        return <div className={this.props.className} style={{\n            display: this.props.block ? 'block' : 'inline-block'\n        }}>{this.state?.display}</div>\n    }\n}\n","import React, { Component } from 'react'\nimport Text from './text';\n\ninterface Props {\n    /** Prints the chars in the Texts backwards */\n    rewind?: boolean;\n    /** Displays all the chars in the Texts at once */\n    stamp?: boolean;\n    /** The pause before starting the text in milliseconds. Default is 0 */\n    pause?: number;\n    /** The pace between two chars in milliseconds. Default is 40 */\n    pace?: number;\n    /** The pace of white spaces to make the text more dynamic */\n    whiteSpacePace?: number;\n\n    /**\n     * Called when the component is mounted\n     * @param typo The current Typo component\n     * */\n    onStart?: (typo: Typo) => void;\n    /**\n    * Called when the current Text component is mounted\n    * @param text The current Text component\n    * @param typo The current Typo component\n    * */\n    onText?: (text: Text, typo: Typo) => void;\n    /**\n     * Called when the last char in the last Text is printed\n     * @param typo The current Typo component\n     * */\n    onStop?: (typo: Typo) => void;\n    /**\n     * Called when a char is printed\n     * @param char The current printed char\n     * @param typo The current Typo component\n     * */\n    onChar?: (char: string, typo: Typo) => void;\n}\n\ninterface State {\n    display: JSX.Element[] | JSX.Element;\n}\n\nexport default class Typo extends Component<Props, State> {\n\n    texts: JSX.Element[];\n    textRefs: React.RefObject<Text>[] = [];\n    iteration: number;\n\n    constructor(props: Props) {\n        super(props);\n        this.iteration = !this.props.rewind ? 0 : (this.props.children as string || '').length - 1;\n\n        this.texts = React.Children.map(this.props.children as JSX.Element, child => {\n            let ref = React.createRef<Text>();\n            this.textRefs.push(ref);\n            console.log(child)\n            return <Text {...child.props} ref={ref} parent={this} rewind={this.props.rewind}>{child.props.children || ''}</Text>\n        })\n\n    }\n\n    componentDidMount() {\n        this.onStart();\n        this.play();\n    }\n\n\n    play() {\n        if (\n            (this.props.rewind && this.iteration < 0) || (!this.props.rewind && this.iteration > this.texts.length - 1)) {\n            this.stop();\n        } else {\n            if (this.props.rewind) {\n                for (let i = this.iteration; i >= 0; i--) {\n                    this.textRefs[i].current?.show();\n                }\n            }\n            \n            this.textRefs[this.iteration].current?.play();\n            \n            this.iteration += this.props.rewind ? -1 : 1;\n            this.onText();\n        }\n    }\n\n    stop() {\n        this.onStop();\n    }\n\n    onStart() {\n        this.props.onStart?.(this);\n    }\n\n    onText() {\n        const text = this.props.rewind\n            ? this.textRefs[this.iteration + 1].current\n            : this.textRefs[this.iteration - 1].current;\n\n        if (text) {\n            this.props.onText?.(text, this);\n        }\n    }\n\n    onStop() {\n        this.props.onStop?.(this);\n    }\n\n    render() {\n        return <React.Fragment>{this.texts}</React.Fragment>\n    }\n}\n","import React from 'react'\n\nimport { Text, Typo } from 'typo'\n\nconst App = () => {\n  return (\n    <Typo>\n      <Text charClassName=\"wave\">Hello </Text>\n      <Text charClassName=\"wave\">World!</Text>\n    </Typo>\n  )\n}\n\nexport default App\n","import './animation.css'\nimport './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}